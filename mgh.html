<html>

<head>

<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<link href="https://cdn.datatables.net/v/dt/dt-2.2.1/datatables.min.css" rel="stylesheet">
<script src="https://cdn.datatables.net/v/dt/dt-2.2.1/datatables.min.js"></script>

</head>

<body>

<table id="mghTable" class="table table-striped table-bordered">
  <thead>
      <tr>
          <th>Fullname</th>
          <th>Date of MGH</th>
         
      </tr>
  </thead>
  <tbody id="mghBody">

  </tbody>
</table>

</body>



<script>
  $(document).ready(function() {
      var mghList = [];

      $.ajax({
        type: "GET",
        url: "http://localhost:8000/MGH", // Your server endpoint URL
        success: function(data) {
          const jsonData = data.mghData // Parse the JSON string

          $.each(jsonData, function(index, mgh) {
            mghList.push(mgh);
          });

          // Display the villa list in a loop using HTML
          for (var i = 0; i < mghList.length; i++) {

            var Fullname = mghList[i].Fullname;
            var dateMGH = mghList[i].dateMGH;
			
			console.log(dateMGH);
           

            var data_mgh = `
            <tr>

              <td>${Fullname}</td>
              <td>${dateMGH}</td>
             
              
            </tr>
            
            `;

            $('#mghBody').append(data_mgh);
         
          }

          var roomView = new DataTable("#mghTable");
        },
        error: function(xhr, status, err) {
          console.error('Error:', err);
        }
      });
    });
</script>

</html>